{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule, FormsModule } from '@angular/common';\nlet ContactComponent = class ContactComponent {\n  constructor(appointmentService, serviceService) {\n    this.appointmentService = appointmentService;\n    this.serviceService = serviceService;\n    this.appointment = {\n      name: '',\n      email: '',\n      phone: '',\n      serviceType: '',\n      message: ''\n    };\n    this.services = [];\n    this.loading = false;\n    this.submitted = false;\n    this.error = null;\n    this.success = null;\n  }\n  ngOnInit() {\n    this.loadServices();\n  }\n  loadServices() {\n    this.serviceService.getServices().subscribe({\n      next: data => {\n        this.services = data;\n      },\n      error: err => {\n        console.error('Error loading services:', err);\n      }\n    });\n  }\n  onSubmit() {\n    if (!this.validateForm()) {\n      return;\n    }\n    this.loading = true;\n    this.error = null;\n    this.success = null;\n    this.appointmentService.createAppointment(this.appointment).subscribe({\n      next: response => {\n        this.success = 'Votre demande de rendez-vous a été envoyée avec succès! Nous vous contacterons rapidement.';\n        this.submitted = true;\n        this.loading = false;\n        this.resetForm();\n      },\n      error: err => {\n        this.error = 'Erreur lors de l\\'envoi de votre demande. Veuillez réessayer.';\n        this.loading = false;\n        console.error('Error creating appointment:', err);\n      }\n    });\n  }\n  validateForm() {\n    if (!this.appointment.name || !this.appointment.email || !this.appointment.phone || !this.appointment.serviceType) {\n      this.error = 'Veuillez remplir tous les champs obligatoires';\n      return false;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(this.appointment.email)) {\n      this.error = 'Veuillez entrer une adresse email valide';\n      return false;\n    }\n    const phoneRegex = /^[\\d\\s\\+\\-\\(\\)]+$/;\n    if (!phoneRegex.test(this.appointment.phone)) {\n      this.error = 'Veuillez entrer un numéro de téléphone valide';\n      return false;\n    }\n    return true;\n  }\n  resetForm() {\n    this.appointment = {\n      name: '',\n      email: '',\n      phone: '',\n      serviceType: '',\n      message: ''\n    };\n  }\n};\nContactComponent = __decorate([Component({\n  selector: 'app-contact',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css']\n})], ContactComponent);\nexport { ContactComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","ContactComponent","constructor","appointmentService","serviceService","appointment","name","email","phone","serviceType","message","services","loading","submitted","error","success","ngOnInit","loadServices","getServices","subscribe","next","data","err","console","onSubmit","validateForm","createAppointment","response","resetForm","emailRegex","test","phoneRegex","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\Utilisateur\\CascadeProjects\\site-coiffure\\frontend\\src\\app\\contact\\contact.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule, FormsModule } from '@angular/common';\r\nimport { AppointmentService } from '../services/appointment.service';\r\nimport { ServiceService } from '../services/service.service';\r\nimport { Appointment } from '../models/appointment.model';\r\nimport { Service } from '../models/service.model';\r\n\r\n@Component({\r\n  selector: 'app-contact',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './contact.component.html',\r\n  styleUrls: ['./contact.component.css']\r\n})\r\nexport class ContactComponent {\r\n  appointment: Appointment = {\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    serviceType: '',\r\n    message: ''\r\n  };\r\n  \r\n  services: Service[] = [];\r\n  loading = false;\r\n  submitted = false;\r\n  error: string | null = null;\r\n  success: string | null = null;\r\n\r\n  constructor(\r\n    private appointmentService: AppointmentService,\r\n    private serviceService: ServiceService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadServices();\r\n  }\r\n\r\n  loadServices(): void {\r\n    this.serviceService.getServices().subscribe({\r\n      next: (data: Service[]) => {\r\n        this.services = data;\r\n      },\r\n      error: (err: any) => {\r\n        console.error('Error loading services:', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (!this.validateForm()) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.success = null;\r\n\r\n    this.appointmentService.createAppointment(this.appointment).subscribe({\r\n      next: (response: Appointment) => {\r\n        this.success = 'Votre demande de rendez-vous a été envoyée avec succès! Nous vous contacterons rapidement.';\r\n        this.submitted = true;\r\n        this.loading = false;\r\n        this.resetForm();\r\n      },\r\n      error: (err: any) => {\r\n        this.error = 'Erreur lors de l\\'envoi de votre demande. Veuillez réessayer.';\r\n        this.loading = false;\r\n        console.error('Error creating appointment:', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  validateForm(): boolean {\r\n    if (!this.appointment.name || !this.appointment.email || !this.appointment.phone || !this.appointment.serviceType) {\r\n      this.error = 'Veuillez remplir tous les champs obligatoires';\r\n      return false;\r\n    }\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(this.appointment.email)) {\r\n      this.error = 'Veuillez entrer une adresse email valide';\r\n      return false;\r\n    }\r\n\r\n    const phoneRegex = /^[\\d\\s\\+\\-\\(\\)]+$/;\r\n    if (!phoneRegex.test(this.appointment.phone)) {\r\n      this.error = 'Veuillez entrer un numéro de téléphone valide';\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  resetForm(): void {\r\n    this.appointment = {\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      serviceType: '',\r\n      message: ''\r\n    };\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}